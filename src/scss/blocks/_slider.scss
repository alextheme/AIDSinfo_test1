$height_slider: 78rem;
$height_slider_response: calc(78 / 65.6 * 100vw);
$width_smal_response: min(calc(54.5vw / 4), 19.6rem);
$width_big_response: min(45.5vw, 65.6rem);

.item {
	background: #fadaba;
	color: #3498db;
	font-size: 36px;
	line-height: 100px;
	margin: 10px;
	padding: 2rem;
	position: relative;
	text-align: center;

	&.slick-current {
		background: #daa36d;
	}
}

.slider_section {
	position: relative;

	max-width: $page_width;
	margin: 0 auto;

	.slick-slider {
		height: $height_slider;
	}

	.slick-list,
	.slick-track {
		height: 100%;
	}

	.slick-slide {
		position: relative;

		width: $width_smal_response;
		overflow: hidden;

		animation: to_narrow 1s;
	}

	.picture_bg_w {
		position: relative;

		display: block;

		height: 100%;
		width: 100%;

		&::before {
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			z-index: 1;
		}
	}

	.slick-active:nth-child(1) .picture_bg_w::before {
		background-image: url($bg_collaps_1);
	}

	.slick-active:nth-child(2) .picture_bg_w::before {
		background-image: url($bg_collaps_2);
	}

	.slick-active:nth-child(3) .picture_bg_w::before {
		background-image: url($bg_collaps_3);
	}

	.slick-active:nth-child(4) .picture_bg_w::before {
		background-image: url($bg_collaps_4);
	}

	.slick-active:nth-child(5) .picture_bg_w::before {
		background-image: url($bg_collaps_5);
	}

	.slick-current {
		width: $width_big_response;

		animation: expand_width 1s;

		.contain_img {
			transform: none;
		}

		&.slick-active .picture_bg_w::before {
			background-image: inherit;
		}
	}

	.contain_img {
		position: absolute;
		top: 0;
		left: 0;
		transform: translate(-50%, 0);
	}


	/* ANIMATIONS */

	@keyframes expand_width {
		0% {
			width: $width_smal_response;
		}

		100% {
			width: $width_big_response;
		}
	}

	@keyframes to_narrow {
		0% {
			width: $width_big_response;
			opacity: 0;
		}

		40% {
			opacity: .3;
		}

		100% {
			width: $width_smal_response;
			opacity: 1;
		}
	}


	/* MEDIA */

	@media only screen and (max-width: 1023px) {
		.slick-slider {
			height: auto;
		}

		.slider_item.slick-slide {
			height: $height_slider_response;
		}

		.slick-current,
		.slick-slide {
			animation: unset;
		}

		.picture_bg_w {
			height: $height_slider_response;

			&::before {
				display: none;
			}
		}

		.contain_img {
			width: 100vw;
			height: auto;
			transform: unset;
		}
	}
}
